project_name: midigen_v5_mamba_anticipation
paths:
  root: ${hydra:runtime.cwd}/result/${project_name}
  data: ${paths.root}/data
  processed_data: ${paths.data}/processed
  checkpoints: ${paths.root}/checkpoints
  logs: ${paths.root}/logs
  outputs: ${paths.root}/outputs
  vocab: ${paths.root}/vocab
data:
  raw_path: ${hydra:runtime.cwd}/data/raw/maestro-v3.0.0
  csv_path: ${hydra:runtime.cwd}/data/raw/maestro-v3.0.0/maestro-v3.0.0.csv
  processed_path: ${paths.processed_data}
tokenizer:
  name: anticipation
  max_seq_len: 2048
  remi:
    beat_res: '{(0, 4): 8, (4, 12): 4}'
    nb_velocities: 24
    use_chords: true
    use_rests: false
    use_programs: false
    use_tempos: false
    use_time_signatures: false
    rest_range: '[2, 8]'
    tempo_range: '[50, 200]'
    use_program_changes: false
  anticipation:
    bar_token_id: 50
model:
  type: mamba
  dim: 512
  depth: 8
  heads: 8
  mamba:
    d_state: 16
    d_conv: 4
    expand: 2
    headdim: 8
  titan:
    chunk_size: 128
    dim_head: 64
    activation: silu
    momentum: true
    memory_depth: 2
    expansion_factor: 4.0
    num_persist_mem_tokens: 32
    num_longterm_mem_tokens: 128
train:
  batch_size: 8
  accumulate_grad_batches: 4
  epochs: 100
  lr: 0.001
  force_preprocess: false
  resume_ckpt_path: auto
compile_model: true
target_composer: Frédéric Chopin
target_length: 4096
